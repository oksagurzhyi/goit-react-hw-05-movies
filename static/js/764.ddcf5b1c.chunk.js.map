{"version":3,"file":"static/js/764.ddcf5b1c.chunk.js","mappings":"sMAkEA,UA9De,WACb,OAAwBA,EAAAA,EAAAA,UAAS,MAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,GAAWC,EAAAA,EAAAA,MAEXC,EAAeJ,EAAaK,IAAI,OA6BtC,OARAC,EAAAA,EAAAA,YAAU,WACJF,IACFG,EAAAA,EAAAA,IAAiBH,GAAcI,MAAK,SAAAb,GAClCC,EAAQD,EAAKc,QACd,GAEJ,GAAE,CAACL,KAGF,iCACE,+BACE,kBAAMM,SAvBS,SAAAC,GACnBA,EAAMC,iBAEoC,KAAtCD,EAAME,OAAOC,SAASjB,MAAMkB,OAC9BR,EAAAA,EAAAA,IAAiBV,GAAOW,MAAK,SAAAb,GAC3BC,EAAQD,EAAKc,SACbR,EAAgB,CAAEe,IAAKL,EAAME,OAAOC,SAASjB,MAAMkB,QACnDJ,EAAME,OAAOC,SAASjB,MAAMkB,MAAQ,EACrC,IACId,EAAgB,CAAC,EACzB,EAaK,WACE,kBAAOgB,KAAK,OAAOC,KAAK,QAAQC,SA/BjB,SAAAC,GACrB,IAAMvB,EAAQuB,EAAEP,OAAOE,MACT,KAAVlB,GAEGC,EAASD,EACjB,KA2BO,mBAAQoB,KAAK,SAAb,0BAGJ,+BACE,wBACGtB,GACCA,EAAK0B,KAAI,YAA6B,IAA1BC,EAAyB,EAAzBA,GAAIC,EAAqB,EAArBA,eACd,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKF,GAAMG,MAAO,CAAEC,KAAMxB,GAAlC,SACGqB,KAFID,EAMZ,UAKZ,C,+LC9DKK,EAAU,mCAET,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,+GAEoBC,EAAAA,EAAAA,IAAA,kEACsCF,IAH1D,uBAEKhC,EAFL,EAEKA,KAFL,kBAKIA,GALJ,gCAOHmC,QAAQC,IAAR,MAPG,gFAWA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA8BC,GAA9B,kGAEoBJ,EAAAA,EAAAA,IAAA,6CACiBI,EADjB,oBACqCN,IAHzD,uBAEKhC,EAFL,EAEKA,KAFL,kBAKIA,GALJ,gCAOHmC,QAAQC,IAAR,MAPG,gFAWA,SAAexB,EAAtB,+CAAO,OAAP,oBAAO,WAAgCV,GAAhC,kGAEoBgC,EAAAA,EAAAA,IAAA,0DAC8BhC,EAD9B,oBAC+C8B,IAHnE,uBAEKhC,EAFL,EAEKA,KAFL,kBAKIA,GALJ,gCAOHmC,QAAQC,IAAR,MAPG,gFAWA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAA4BD,GAA5B,kGAEoBJ,EAAAA,EAAAA,IAAA,+CACUI,EADV,4BACsCN,IAH1D,uBAEKhC,EAFL,EAEKA,KAFL,kBAIIA,GAJJ,gCAMHmC,QAAQC,IAAR,MANG,gFAUA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAA4BF,GAA5B,kGAEoBJ,EAAAA,EAAAA,IAAA,+CACUI,EADV,4BACsCN,IAH1D,uBAEKhC,EAFL,EAEKA,KAFL,kBAIIA,GAJJ,gCAMHmC,QAAQC,IAAR,MANG,gF","sources":["pages/Movies.js","services/fetchAPI.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { fetchMovieByName } from 'services/fetchAPI';\n\nconst Movies = () => {\n  const [data, setData] = useState(null);\n  const [query, setQuery] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const location = useLocation();\n\n  const queryToFetch = searchParams.get('key');\n\n  const onhandleChange = e => {\n    const query = e.target.value;\n    if (query === '') {\n      return;\n    } else setQuery(query);\n  };\n\n  const onSubmitForm = event => {\n    event.preventDefault();\n\n    if (event.target.elements.query.value !== '') {\n      fetchMovieByName(query).then(data => {\n        setData(data.results);\n        setSearchParams({ key: event.target.elements.query.value });\n        event.target.elements.query.value = '';\n      });\n    } else setSearchParams({});\n  };\n\n  useEffect(() => {\n    if (queryToFetch) {\n      fetchMovieByName(queryToFetch).then(data => {\n        setData(data.results);\n      });\n    } else return;\n  }, [queryToFetch]);\n\n  return (\n    <>\n      <>\n        <form onSubmit={onSubmitForm}>\n          <input type=\"text\" name=\"query\" onChange={onhandleChange} />\n          <button type=\"submit\">Search</button>\n        </form>\n      </>\n      <>\n        <ul>\n          {data &&\n            data.map(({ id, original_title }) => {\n              return (\n                <li key={id}>\n                  <Link to={`${id}`} state={{ from: location }}>\n                    {original_title}\n                  </Link>\n                </li>\n              );\n            })}\n        </ul>\n      </>\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst API_KEY = '656a2d8477e687091ecc4ce165a9fa7c';\n\nexport async function fetchMoviesTrend() {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function fetchMovieById(movie_id) {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/movie/${movie_id}?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function fetchMovieByName(query) {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/search/movie?query=${query}&api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function movieCredits(movie_id) {\n  try {\n    const { data } = await axios.get(`\nhttps://api.themoviedb.org/3/movie/${movie_id}/credits?api_key=${API_KEY}`);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function movieReviews(movie_id) {\n  try {\n    const { data } = await axios.get(`\nhttps://api.themoviedb.org/3/movie/${movie_id}/reviews?api_key=${API_KEY}`);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n"],"names":["useState","data","setData","query","setQuery","useSearchParams","searchParams","setSearchParams","location","useLocation","queryToFetch","get","useEffect","fetchMovieByName","then","results","onSubmit","event","preventDefault","target","elements","value","key","type","name","onChange","e","map","id","original_title","to","state","from","API_KEY","fetchMoviesTrend","axios","console","log","fetchMovieById","movie_id","movieCredits","movieReviews"],"sourceRoot":""}